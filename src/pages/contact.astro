---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import { getAuthUser } from '../lib/auth';

const authUser = await getAuthUser(Astro.cookies);
---

<BaseLayout
  title="Contact Us"
  description="Get in touch with the PrimeBridge team. Whether you're a fintech lender or accredited investor, we're here to help you navigate private credit."
  image="/PrimeBridge_Finance.jpg"
>
  <Header user={authUser?.user} />

  <main class="py-20 lg:py-24 bg-white">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-12 lg:gap-16">
        <!-- Contact Info -->
        <div>
          <p class="text-primary font-semibold tracking-widest uppercase text-xs mb-4">
            Get in Touch
          </p>
          <h1 class="text-4xl lg:text-5xl font-black text-darkest leading-[1.1] tracking-tight mb-6">
            Contact PrimeBridge
          </h1>
          <p class="text-lg text-dark leading-relaxed mb-8">
            Have questions about listing your loan pools or investing in private credit? Our team is here to help.
          </p>

          <div class="space-y-6">
            <div class="flex gap-4">
              <div class="w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-darkest">For Lenders</h3>
                <p class="text-dark mt-1">Questions about listing loan pools, platform integration, or partnership opportunities.</p>
              </div>
            </div>

            <div class="flex gap-4">
              <div class="w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-darkest">For Investors</h3>
                <p class="text-dark mt-1">Learn about deal access, accreditation requirements, or specific investment opportunities.</p>
              </div>
            </div>

            <div class="flex gap-4">
              <div class="w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-darkest">General Inquiries</h3>
                <p class="text-dark mt-1">Press, partnerships, or any other questions about PrimeBridge Finance.</p>
              </div>
            </div>
          </div>

          <div class="mt-10 p-6 bg-lightest rounded-xl border border-light">
            <h4 class="font-semibold text-darkest mb-2">Response Time</h4>
            <p class="text-dark text-sm">We typically respond within 1-2 business days. For urgent matters, please indicate in your message.</p>
          </div>
        </div>

        <!-- Contact Form -->
        <div>
          <div class="bg-lightest rounded-xl border border-light p-8">
            <h2 class="text-2xl font-bold text-darkest mb-6">Send us a message</h2>

            <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" class="space-y-6">
              <input type="hidden" name="form-name" value="contact" />
              <p class="hidden">
                <label>Don't fill this out: <input name="bot-field" /></label>
              </p>

              <div>
                <label for="name" class="block text-sm font-medium text-darkest mb-2">
                  Full name <span class="text-error">*</span>
                </label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  required
                  class="w-full min-h-[48px] px-4 rounded-md border border-medium bg-white text-darkest placeholder:text-medium focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"
                  placeholder="Your name"
                />
              </div>

              <div>
                <label for="email" class="block text-sm font-medium text-darkest mb-2">
                  Email address <span class="text-error">*</span>
                </label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  class="w-full min-h-[48px] px-4 rounded-md border border-medium bg-white text-darkest placeholder:text-medium focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"
                  placeholder="you@company.com"
                />
              </div>

              <div>
                <label for="type" class="block text-sm font-medium text-darkest mb-2">
                  I am a... <span class="text-error">*</span>
                </label>
                <select
                  id="type"
                  name="type"
                  required
                  class="w-full min-h-[48px] px-4 rounded-md border border-medium bg-white text-darkest focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"
                >
                  <option value="">Select one</option>
                  <option value="lender">Fintech Lender</option>
                  <option value="investor">Accredited Investor</option>
                  <option value="other">Other</option>
                </select>
              </div>

              <div>
                <label for="company" class="block text-sm font-medium text-darkest mb-2">
                  Company <span class="text-dark text-xs">(optional)</span>
                </label>
                <input
                  type="text"
                  id="company"
                  name="company"
                  class="w-full min-h-[48px] px-4 rounded-md border border-medium bg-white text-darkest placeholder:text-medium focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"
                  placeholder="Your company name"
                />
              </div>

              <div>
                <label for="message" class="block text-sm font-medium text-darkest mb-2">
                  Message <span class="text-error">*</span>
                </label>
                <textarea
                  id="message"
                  name="message"
                  rows="5"
                  required
                  class="w-full px-4 py-3 rounded-md border border-medium bg-white text-darkest placeholder:text-medium focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none"
                  placeholder="How can we help you?"
                ></textarea>
              </div>

              <button
                type="submit"
                class="w-full inline-flex items-center justify-center bg-primary text-white hover:bg-primary-hover min-h-[52px] px-8 rounded font-semibold text-lg transition-colors"
              >
                Send message
              </button>

              <p class="text-xs text-dark text-center">
                By submitting this form, you agree to our <a href="/privacy" class="text-primary underline">Privacy Policy</a>.
              </p>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>

  <Footer />
</BaseLayout>
